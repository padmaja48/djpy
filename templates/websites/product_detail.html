{% extends "websites/common/base.html" %}

{% block title %}{{ product.name }}{% endblock %}

{% block main_content %}
<div class="container mt-5">
    <div class="row">
        
        <div class="col-md-6">
            {% if product.image %}
            <img src="{{ product.image.url }}" class="img-fluid rounded-3 shadow-sm" alt="{{ product.name }}" style="max-height: 500px; object-fit: cover;">
            {% else %}
            <img src="https://via.placeholder.com/600x400/C0E9ED/343a40?text=Image+Unavailable" class="img-fluid rounded-3 shadow-sm" alt="Image Unavailable">
            {% endif %}
        </div>
        
        <div class="col-md-6">
            <h1 class="display-4 text-primary fw-bold">{{ product.name }}</h1>
            <p class="lead text-muted">{{ product.description }}</p>
            <hr>
            
            <div class="d-flex align-items-center mb-4">
                <h2 class="text-primary me-3">${{ product.price }}</h2>
                <span class="badge bg-success fs-6">
                    {% if product.stock > 0 %}
                        In Stock ({{ product.stock }})
                    {% else %}
                        Out of Stock
                    {% endif %}
                </span>
            </div>
            
            <form action="{% url 'product-detail' product.pk %}" method="post">
                {% csrf_token %}
                <div class="d-grid gap-2">
                    {% if product.stock > 0 %}
                    <button type="submit" class="btn btn-success btn-lg">Add to Cart</button>
                    {% else %}
                    <button type="button" class="btn btn-secondary btn-lg" disabled>Out of Stock</button>
                    {% endif %}
                </div>
            </form>
            
        </div>
    </div>
</div>
{% endblock %}